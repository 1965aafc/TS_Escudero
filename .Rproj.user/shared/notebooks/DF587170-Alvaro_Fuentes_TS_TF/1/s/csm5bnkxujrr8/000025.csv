"0","#LASSO: Least Absolute Shrinkage and Selection Operator"
"0","#funciÃ³n glmnet() con alpha=1"
"0","#Probamos con 2 variantes de lambda. En los Ãºltimos dos seguimos la sugerencia de Belloni y Chernozhukov (2011) para c=0.002 y c=0.006"
"0","# c cercano a 0 para que no anulo los predictores"
"0",""
"0","#PronÃ³sticos recursivos de la regresiÃ³n LASSO con lambda1"
"0","#glmnet corre lasso, se guarda el primer predictor solamente"
"0","fcst.lasso1<-matrix(0, nrow = 37, ncol = 1)  #armo un vector donde voy a ir almacenando los pronÃ³sticos"
"0","for(i in 1:37){"
"0","  y.train <- window(y, end = 2017.500 + (i-1)/12)"
"0","  x.train <- window(x, end = 2017.500 + (i-1)/12)"
"0","  x.test <- window(x, start = 2017.583 + (i-1)/12)"
"0","  reg <- lm(y.train~as.matrix(x.train))"
"0","  sigma <- sqrt(sum(reg$residuals^2)/(length(y.train)-41-1)) "
"0","  lambda1 <- 2*0.002*sigma*sqrt(length(y.train))*qnorm(1-0.05/(2*41))^(-1)"
"0","  refit.lasso1 <- glmnet(x.train, y.train, alpha = 1, lambda = lambda1)"
"0","  fcst.lasso1[i,] <- predict(refit.lasso1, s = lambda1, newx = x.test)[1]"
"0","}"
"0",""
"0","fcst.lasso1 <- ts(fcst.lasso1, start=c(2017,8), frequency = 12)"
"0",""
"0","#PronÃ³sticos recursivos de la regresiÃ³n LASSO con lambda2"
"0","fcst.lasso2<-matrix(0, nrow = 37, ncol = 1)  #armo un vector donde voy a ir almacenando los pronÃ³sticos"
"0","for(i in 1:37){"
"0","  y.train <- window(y, end = 2017.500 + (i-1)/12)"
"0","  x.train <- window(x, end = 2017.500 + (i-1)/12)"
"0","  x.test <- window(x, start = 2017.583 + (i-1)/12)"
"0","  reg <- lm(y.train~x.train)"
"0","  sigma <- sqrt(sum(reg$residuals^2)/(length(y.train)-41-1)) "
"0","  lambda2 <- 2*0.006*sigma*sqrt(length(y.train))*qnorm(1-0.05/(2*41))^(-1)"
"0","  refit.lasso2 <- glmnet(x.train, y.train, alpha = 1, lambda = lambda2)"
"0","  fcst.lasso2[i,] <- predict(refit.lasso2, s = lambda2, newx = x.test)[1]"
"0","}"
"0",""
"0","fcst.lasso2 <- ts(fcst.lasso2, start=c(2017,8), frequency = 12)"
"0",""
"0","refit.lasso1$beta"
"1","41 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","                        "
"1","            s0"
"1","
x.IMS                   "
"1","  4.298128e-01"
"1","
x.IVF_Ind               "
"1","  9.442535e-03"
"1","
x.IVF_Ind_SREF          "
"1"," -1.170758e-02"
"1","
x.Energ_fact_res        "
"1","  1.622800e-02"
"1","
x.Energ_fact_prim       "
"1"," -3.132574e-02"
"1","
x.Energ_fact_Ind        "
"1","  2.437877e-02"
"1","
x.Energ_fact_cys        "
"1"," -3.503320e-02"
"1","
x.Energ_fact_total      "
"1","  .           "
"1","
x.IVF_M_total           "
"1","  .           "
"1","
x.IVF_M_Consumo         "
"1","  .           "
"1","
x.IVF_M_autos           "
"1"," -5.757111e-04"
"1","
x.IVF_M_durables        "
"1","  8.681268e-04"
"1","
x.IVF_M_bienes_K        "
"1","  1.089392e-03"
"1","
x.IVF_M_bienes_Int      "
"1"," -2.702135e-05"
"1","
x.IVF_M_petoleo         "
"1","  5.402042e-04"
"1","
x.IVF_M_sEnerg          "
"1","  2.686027e-03"
"1","
x.IVF_X                 "
"1"," -2.419133e-04"
"1","
x.IVF_X_primario        "
"1"," -8.205638e-04"
"1","
x.IVF_X_Ind             "
"1","  .           "
"1","
x.SPC.RES_PRIM_SPNM     "
"1","  .           "
"1","
x.SPC.RES_GLOB_SPNM     "
"1"," -3.086209e-05"
"1","
x.SPC.RES_ PRIM_SPC     "
"1","  .           "
"1","
x.SPC.RES_GLOB_SPC      "
"1"," -9.191897e-06"
"1","
x.Int_act_MN_prom       "
"1","  3.391564e-02"
"1","
x.Int_act_MN_Emp        "
"1","  4.328695e-02"
"1","
x.Cpmm_Ind_Mats         "
"1","  .           "
"1","
x.Comm_Non_Fuel         "
"1","  6.084447e-02"
"1","
x.Comm_Food             "
"1","  4.625134e-02"
"1","
x.Comm_Meat             "
"1"," -4.226952e-02"
"1","
x.TC_Cierre_Interb_media"
"1","  4.643860e-01"
"1","
x.TC_Prom_Interb_media  "
"1","  3.673481e-01"
"1","
x.Emision_cierre        "
"1","  9.700028e-05"
"1","
x.M1_cierre             "
"1","  .           "
"1","
x.M2_cierre             "
"1","  3.072491e-06"
"1","
x.M3_cierre             "
"1","  .           "
"1","
x.TCR_Global            "
"1"," -8.813686e-03"
"1","
x.TCR_xtra_reg          "
"1"," -4.731094e-02"
"1","
x.TCR_reg               "
"1","  .           "
"1","
x.t_des                 "
"1","  7.113477e-02"
"1","
x.exp_inf               "
"1"," -4.519079e-01"
"1","
lagy                    "
"1","  8.594173e-03"
"1","
"
"0","refit.lasso2$beta"
"1","41 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","                        "
"1","            s0"
"1","
x.IMS                   "
"1","  4.501244e-01"
"1","
x.IVF_Ind               "
"1","  3.932278e-03"
"1","
x.IVF_Ind_SREF          "
"1","  .           "
"1","
x.Energ_fact_res        "
"1","  6.520293e-03"
"1","
x.Energ_fact_prim       "
"1"," -4.285051e-02"
"1","
x.Energ_fact_Ind        "
"1","  1.835295e-02"
"1","
x.Energ_fact_cys        "
"1"," -1.148647e-02"
"1","
x.Energ_fact_total      "
"1","  .           "
"1","
x.IVF_M_total           "
"1","  2.458082e-04"
"1","
x.IVF_M_Consumo         "
"1","  .           "
"1","
x.IVF_M_autos           "
"1","  .           "
"1","
x.IVF_M_durables        "
"1","  5.024495e-04"
"1","
x.IVF_M_bienes_K        "
"1","  1.056092e-03"
"1","
x.IVF_M_bienes_Int      "
"1","  .           "
"1","
x.IVF_M_petoleo         "
"1","  2.392962e-04"
"1","
x.IVF_M_sEnerg          "
"1","  .           "
"1","
x.IVF_X                 "
"1","  .           "
"1","
x.IVF_X_primario        "
"1"," -3.290358e-04"
"1","
x.IVF_X_Ind             "
"1","  .           "
"1","
x.SPC.RES_PRIM_SPNM     "
"1","  .           "
"1","
x.SPC.RES_GLOB_SPNM     "
"1"," -5.661713e-05"
"1","
x.SPC.RES_ PRIM_SPC     "
"1","  .           "
"1","
x.SPC.RES_GLOB_SPC      "
"1","  .           "
"1","
x.Int_act_MN_prom       "
"1","  1.811888e-02"
"1","
x.Int_act_MN_Emp        "
"1","  .           "
"1","
x.Cpmm_Ind_Mats         "
"1","  .           "
"1","
x.Comm_Non_Fuel         "
"1","  6.625706e-02"
"1","
x.Comm_Food             "
"1","  3.835381e-02"
"1","
x.Comm_Meat             "
"1"," -3.806175e-02"
"1","
x.TC_Cierre_Interb_media"
"1","  4.518847e-01"
"1","
x.TC_Prom_Interb_media  "
"1","  3.302067e-01"
"1","
x.Emision_cierre        "
"1","  2.602087e-05"
"1","
x.M1_cierre             "
"1","  .           "
"1","
x.M2_cierre             "
"1","  1.636305e-08"
"1","
x.M3_cierre             "
"1","  .           "
"1","
x.TCR_Global            "
"1"," -4.936619e-02"
"1","
x.TCR_xtra_reg          "
"1"," -2.400844e-03"
"1","
x.TCR_reg               "
"1","  .           "
"1","
x.t_des                 "
"1","  3.199622e-02"
"1","
x.exp_inf               "
"1"," -3.407495e-01"
"1","
lagy                    "
"1","  1.159797e-04"
"1","
"
"0","#GRAFICOS"
"0","y.test <- window(y, start = c(2017,8))"
"0","#par(mfrow=c(1,2), oma=c(0.5,0.5,0.5,0.5), mar=c(2,2,2,2))"
"0","#plot(y.test, main=""Realized"", ylab = """", xlab = """")"
"0","plot(fcst.lasso1, col = ""grey"", lwd = 5, main=""Lasso"", ylab = """", xlab = """")"
