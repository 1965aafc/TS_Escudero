"0","#PRONOSTICOS RECURSIVOS"
"0","#Ventana inicial: 2005.2-2017.7 ()"
"0","#Out-of-sample: 2017.8-2020.7 (T=36)"
"0","#PronÃ³sticos un paso adelante y reevalúa los parámetros"
"0","#time(y) #me muestra cómo R almacena "
"0",""
"0","#Stepwise Selection"
"0","#selecciona los modelos con la funcion step que minimiza un criterio de info"
"0","#Backward: pronÃ³sticos recursivos"
"0","fcst.backward<-matrix(0, nrow = 37, ncol = 1)  #armo un vector para almacenar pronosticos"
"0","fcst.backward <- ts(fcst.backward, start=c(2017,8), frequency = 12)"
"0","for(i in 1:37){"
"0","  y.train <- window(y, end = 2017.500 + (i-1)/12) #window es como un slice, 37 es el 20% de las obs."
"0","  x.train <- window(x, end = 2017.500 + (i-1)/12) #va cambiando la ventana de entrenamiento y predicc"
"0","  x.test <- window(x, start = 2017.583 + (i-1)/12)"
"0","  #parte del full (.)"
"0","  #trace = FALSE evita el reporte de lo smodelos"
"0","  step.model <- step(lm(y.train~., data=x.train), direction = ""backward"", trace = FALSE)"
"0","  fcst.backward[i,] <- predict(step.model, newdata = x.test)[1]  #sólo retiene el pronóstico a un paso"
"0","}"
"0",""
"0","step.model$coefficients"
"1","             (Intercept) "
"1","                   x.IMS "
"1","               x.IVF_Ind "
"1","          x.IVF_Ind_SREF "
"1","        x.Energ_fact_res "
"1","
"
"1","           -2.961132e+00 "
"1","            8.931272e-02 "
"1","            2.131496e-02 "
"1","           -1.447411e-02 "
"1","            2.097780e-02 "
"1","
"
"1","       x.Energ_fact_prim "
"1","      x.Energ_fact_total "
"1","           x.IVF_M_total "
"1","         x.IVF_M_Consumo "
"1","           x.IVF_M_autos "
"1","
"
"1","            1.508554e-02 "
"1","           -1.063139e-02 "
"1","            1.441278e-01 "
"1","           -3.668674e-02 "
"1","            2.414470e-03 "
"1","
"
"1","        x.IVF_M_durables "
"1","        x.IVF_M_bienes_K "
"1","      x.IVF_M_bienes_Int "
"1","         x.IVF_M_petoleo "
"1","          x.IVF_M_sEnerg "
"1","
"
"1","            4.043636e-03 "
"1","           -1.528218e-02 "
"1","           -1.322289e-01 "
"1","            1.227389e-02 "
"1","            1.795711e-02 "
"1","
"
"1","     x.SPC.RES_PRIM_SPNM "
"1","   `x.SPC.RES_ PRIM_SPC` "
"1","      x.SPC.RES_GLOB_SPC "
"1","        x.Int_act_MN_Emp "
"1","         x.Comm_Non_Fuel "
"1","
"
"1","            7.891302e-04 "
"1","           -7.015303e-04 "
"1","           -8.416004e-05 "
"1","            8.021105e-02 "
"1","            2.653284e-02 "
"1","
"
"1","             x.Comm_Meat "
"1","x.TC_Cierre_Interb_media "
"1","        x.Emision_cierre "
"1","             x.M2_cierre "
"1","             x.M3_cierre "
"1","
"
"1","           -1.617649e-02 "
"1","            4.552912e-01 "
"1","            1.501534e-04 "
"1","            2.320522e-05 "
"1","           -7.643551e-06 "
"1","
"
"1","            x.TCR_Global "
"1","               x.TCR_reg "
"1","                    lagy "
"1","
"
"1","           -4.343033e-02 "
"1","            5.155773e-02 "
"1","            7.270310e-01 "
"1","
"
"0","#Forward: pronÃ³sticos recursivos"
"0","#parto del modelo lm = f(cte) y voy agregando parámetros"
"0","fcst.forward <- matrix(0, nrow = 37, ncol = 1)  #armo el vector que almacena pronosticos"
"0","fcst.forward <- ts(fcst.forward, start=c(2017,8), frequency = 12)"
"0","for(i in 1:37){"
"0","  y.train <- window(y, end = 2017.500 + (i-1)/12)"
"0","  x.train <- window(x, end = 2017.500 + (i-1)/12)"
"0","  x.test <- window(x, start = 2017.583 + (i-1)/12)"
"0","  full.model <- formula(lm(y.train~.,data = x.train))"
"0","  step.model <- step(lm(y.train~1, data=x.train), direction = ""forward"", trace = FALSE, scope = full.model)"
"0","  fcst.forward[i,] <- predict(step.model, newdata = x.test)[1]"
"0","}"
"0",""
"0","step.model$coefficients"
"1","             (Intercept) "
"1","                    lagy "
"1","             x.M2_cierre "
"1","x.TC_Cierre_Interb_media "
"1","        x.Emision_cierre "
"1","
"
"1","           -8.762581e+00 "
"1","            7.575460e-01 "
"1","            1.933096e-05 "
"1","            5.123003e-01 "
"1","            1.483801e-04 "
"1","
"
"1","               x.TCR_reg "
"1","      x.Energ_fact_total "
"1","               x.IVF_Ind "
"1","          x.IVF_M_sEnerg "
"1","        x.IVF_M_bienes_K "
"1","
"
"1","            6.893800e-02 "
"1","            1.011936e-02 "
"1","            1.068682e-02 "
"1","           -2.298847e-03 "
"1","            1.587454e-03 "
"1","
"
"1","                   x.IMS "
"1","       x.Int_act_MN_prom "
"1","        x.Energ_fact_cys "
"1","            x.TCR_Global "
"1","             x.M3_cierre "
"1","
"
"1","            7.685713e-02 "
"1","            6.049982e-02 "
"1","           -2.289805e-02 "
"1","           -7.710374e-02 "
"1","           -9.242272e-06 "
"1","
"
"1","             x.Comm_Food "
"1","                 x.t_des "
"1","             x.Comm_Meat "
"1","           x.IVF_M_autos "
"1","
"
"1","            3.190968e-02 "
"1","            1.257504e-01 "
"1","           -1.161584e-02 "
"1","            1.245141e-03 "
"1","
"
"0","#GRAFICOS"
"0","y.test <- window(y, start = c(2017,8))"
"0","#par(mfrow=c(1,2), oma=c(0.5,0.5,0.5,0.5), mar=c(2,2,2,2))"
"0","#plot(y.test, main=""Realized"", ylab = """", xlab = """")"
"0","plot(fcst.forward, col = ""grey"", lwd = 5, main=""Iterative Selection"", ylab = """", xlab = """")"
